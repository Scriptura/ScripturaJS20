extends layout

block main
  main
    h1.main-heading= _name
    .grid2.gap
      div
        .card.flex.gap
          div
            if _calendar.displayDate
              p= _calendar.displayDate
            p
              if _calendar.color[0] && _calendar.priority < 12
                .calendar-color(class='calendar-' + _calendar.color[0])
              if _calendar.color[1] && _calendar.priority < 12
                .calendar-color(class='calendar-' + _calendar.color[1])
              if _calendar.periodColor && _calendar.priority > 9
                .calendar-color(class='calendar-' + _calendar.periodColor)
              if _calendar.name && _calendar.link[0]
                a(href=_calendar.link[0])!= _calendar.name
              else if _calendar.name  && !_calendar.extra
                span!= _calendar.name
              else if _calendar.name  && _calendar.extra
                span!= _calendar.name + ', ' + _calendar.extra
              else
                span no calendar
            if _calendar.grade || _calendar.priority
              p
                if _calendar.grade && !_calendar.priority
                  em= _calendar.grade
                if _calendar.grade && _calendar.priority
                  em= _calendar.grade + ', préséance ' + _calendar.priority
                if !_calendar.grade && _calendar.priority
                  em= 'Préséance ' + _calendar.priority
            if _calendar.period
              p!= _calendar.period
          if (_moonPhase || _moonPhase === 0)
            .center
              svg.size4.push(role='img' focusable='false')
                use(xlink:href='/medias/sprites/moons.svg#' + _moonPhase)
      .center
        svg.size25.decorative-svg(role='img' focusable='false')
          use(xlink:href='/medias/sprites/silos/182r-d1-1.1.svg#1')
