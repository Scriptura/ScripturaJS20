extends layout

block main
  main
    h1.main-heading= _name
    .grid2.gap
      div
        .card.flex.gap
          div
            if _calendarDate
              p= _calendarDate
            p
              if _calendarColor[0] && _calendarRank < 12
                .calendar-color(class='calendar-' + _calendarColor[0])
              if _calendarColor[1] && _calendarRank < 12
                .calendar-color(class='calendar-' + _calendarColor[1])
              if _calendarPeriodColor && _calendarRank > 9
                .calendar-color(class='calendar-' + _calendarPeriodColor)
              if _calendarName && _calendarLink[0]
                a(href=_calendarLink[0])!= _calendarName
              else if _calendarName
                span!= _calendarName
              else
                span no calendar
            if _calendarCompletedName
              p!= _calendarCompletedName
            if _calendarGrade || _calendarRank
              p
                if _calendarGrade && !_calendarRank
                  em= _calendarGrade
                if _calendarGrade && _calendarRank
                  em= _calendarGrade + ', rank ' + _calendarRank
                if !_calendarGrade && _calendarRank
                  em= 'Rank ' + _calendarRank
            if _calendarPeriod
              p!= _calendarPeriod
          if (_moonPhase || _moonPhase === 0)
            .center
              svg.size4.push(role='img' focusable='false')
                use(xlink:href='/medias/sprites/moons.svg#' + _moonPhase)
      .center
        svg.size25.decorative-svg(role='img' focusable='false')
          use(xlink:href='/medias/sprites/silos/182r-d1-1.1.svg#1')
