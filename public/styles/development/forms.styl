// -----------------------------------------------------------------------------
// @section Forms
// -----------------------------------------------------------------------------

fieldset
  margin 0
  //padding 0.35em 0.75em 0.625em // @bugfix Correct the padding @affected Firefox.
  padding 0
  border none

legend
  box-sizing border-box // @bugfix Correct the text wrapping @affected Edge and IE.
  color inherit // @bugfix Correct the color inheritance from `fieldset` elements @affected IE.
  display table // @bugfix Correct the text wrapping @affected Edge and IE.
  max-width 100% // @bugfix Correct the text wrapping @affected Edge and IE.
  padding 0 // @bugfix Remove the padding so developers are not caught out when they zero out `fieldset` elements @affected All browsers.
  white-space normal // @bugfix Correct the text wrapping @affected Edge and IE.

label:focus
label:hover
label:active
label:checked
  cursor pointer

button
input
optgroup
select
textarea
  font-family inherit // @bugfix Change the font styles @affected All browsers
  font-size 100% // @bugfix Change the font styles @affected All browsers.
  line-height 1.15 // @bugfix Change the font styles @affected All browsers.
  margin 0 // @bugfix Remove the margin @affected Firefox and Safari.

button
input
  overflow visible // @bugfix Show the overflow @affected Edge.
  //line-height normal // @affected Firefox 4+.
  //border-radius 0 // @affected Chrome 62+/OS X.

//button[disabled]
//html input[disabled]
//  cursor not-allowed

button
select
  text-transform none // @bugfix Remove the inheritance of text transform @affected Edge, Firefox, and IE.

button
[type=button]
[type=reset]
[type=submit]
  -webkit-appearance button // @bugfix Correct the inability to style clickable types @affected iOS and Safari.
  //outline none
  cursor pointer // @todo Test du 10.10.2020

button::-moz-focus-inner
[type=button]::-moz-focus-inner
[type=reset]::-moz-focus-inner
[type=submit]::-moz-focus-inner
  border-style none // @bugfix Remove the inner border @affected Firefox.
  padding 0 // @bugfix Remove the inner padding @affected Firefox.

button:-moz-focusring
[type=button]:-moz-focusring
[type=reset]:-moz-focusring
[type=submit]:-moz-focusring
  outline 1px dotted ButtonText // @bugfix Restore the focus styles unset by the previous rule.

input:not([type=button]):not([type=submit]):not([type=range])
select
  max-height 2.2em // @note Permet de contrôler la hauteur des champs invalides + les imput type date, color, etc...

select
  padding 1em // @affected Firefox
  white-space nowrap
  text-overflow ellipsis

select:not([multiple])
  -webkit-appearance none // @affected Chrome
  -moz-appearance none // @affected Firefox
  //background-image $image004
  //background-repeat no-repeat
  //background-position right .5em center // calc(100% - .5em) 50%
  //background-size 1em 1em
  border-radius 0 // @affected Chrome

select[multiple]
  min-height 5.6em

progress
  vertical-align baseline // @bugfix Add the correct vertical alignment @affected Chrome, Firefox, and Opera.

textarea
  overflow auto // @bugfix Remove the default vertical scrollbar @affected IE 10+

[type=checkbox]
[type=radio]
  box-sizing border-box // @bugfix @tofo A évaluer.
  padding 0 // @bugfix Remove the padding @affected IE 10.

[type=number]::-webkit-inner-spin-button
[type=number]::-webkit-outer-spin-button
  height auto // @bugfix Correct the cursor style of increment and decrement buttons @affected Chrome.

[type=search]
  -webkit-appearance textfield // @bugfix Correct the odd appearance @affected Chrome and Safari.
  outline-offset -2px // @bugfix Correct the outline style @affected Safari.

[type=search]::-webkit-search-decoration
  -webkit-appearance none // @bugfix Remove the inner padding @affected Chrome and Safari on macOS.

::-webkit-file-upload-button
  -webkit-appearance button // @bugfix Correct the inability to style clickable types @affected iOS and Safari.
  font inherit // @bugfix Change font properties to `inherit` @affected Safari.

input:-webkit-autofill // @note Préremplissage des champs par le navigateur @affected Chrome
input:-webkit-autofill:hover
input:-webkit-autofill:focus
textarea:-webkit-autofill
textarea:-webkit-autofill:hover
textarea:-webkit-autofill:focus
select:-webkit-autofill
select:-webkit-autofill:hover
select:-webkit-autofill:focus
  -webkit-text-fill-color #ddd
  -webkit-box-shadow 0 0 0px 1000px #222 inset

::placeholder
  color #777

:focus::placeholder
  color transparent


// @subsection Inputs
// -----------------------------------------------------------------------------
 // @note En raison de leurs éventails d'utilisations les inputs ne sont pas stylés par défaut, utilisation d'une class .input sur un élément parent

form > [class*=input]
form fieldset > [class*=input]
  width 100%
  margin 1em 0 1em

//@media (min-width $sizeXS)
//  form [class^=columns] > [class*=input]
//    padding-bottom 0

[class*=input] label
  display inline-block
  margin-bottom .5rem

[class*=input] input:not([type=button])
[class*=input] select
[class*=input] textarea
  width 100%
  padding .4em 1em
  background-color #444
  border .1em solid #444 //#222 // @note Permet d'anticiper le comportement des bordures colorées de '.invalid' en évitant des rattrapages en padding, aléatoires selon le type d'input

[class*=input] input
[class*=input] select
[class*=input] textarea
  color currentColor
  border-radius $r2

[class*=input] textarea
  min-height 10em // @note Propriété en lien avec 'resize'
  max-height 50vh // @note Idem
  resize vertical // @note Redimensionnement par l'utilisateur limité à la verticale
  padding 1em
  line-height 2

[class*=input] input:not([type=button]):focus
[class*=input] select:focus
[class*=input] textarea:focus
  outline none
  border .1rem solid #000
  //border-radius $r2

[class*=input] [type=color]
  height 3em
  padding 0

[class*=input].disabled label
  color #777

[class*=input].disabled input
  background #444 repeating-linear-gradient(-45deg, #777, #aaa 1px, transparent 1px, transparent 6px) repeat
  background-size 8px 8px
  cursor not-allowed

[class*=input].invalid input
[class*=input].invalid select
[class*=input].invalid textarea
  //border-color #f00
  background-position right .7em center // @note Révision de l'emplacement de l'astérisque si champ obligatoire

[class*=input].invalid :not(:focus)
  animation animInvalidInput 2s infinite

@keyframes animInvalidInput
  0%
    border-color inherrit
  50%
    border-color Orange
  100%
    border-color inherrit

.invalid p
  font-style italic
  color Orange

.invalid p::before
  content '!'
  font-size .8em
  font-style normal
  margin-right .5em

[class*=input].invalid :focus + p::before
  animation animBlink 2s infinite

[class*=input] :required
[class*=input] .required // @note '.required' pour éléments select, et fallback all browsers
  //background-image $image002
  background-repeat no-repeat
  background-position right .5em center
  background-size 1em 1em

[class*=input] :required:focus
[class*=input] .required:focus
  background-image none

.input-password
  position relative

.input-password button
  position absolute
  top 2rem
  right .5rem
  width 2.1rem
  height 2.1rem
  padding .5rem
  color #777
  background-color Transparent
  border none

.input-password button svg
  width 100%
  height 100%

.input-password button:focus
  outline none

.input-password button:focus
.input-password button:hover
.input-password button:active
  color Orange

// @note Code intéresant si couplé à des regex :
//[class*=input] :invalid:focus
  // background-color #f2dede !important
//[class*=input] :valid:focus
  // background-color #dff0d8


// @subsection Buttons
// -----------------------------------------------------------------------------
// @note Toujours privilégier l'élément <button> sur l'élément <input type=button> car il permet de réaliser des rendu plus complexe en acceptant d'autre balises html en son sein.
// @link https://developer.mozilla.org/fr/docs/Web/HTML/Element/Button

.button
  overflow hidden
  margin-bottom 1em
  padding 0 1em
  line-height 2
  //font-weight 300
  white-space nowrap
  text-overflow ellipsis
  color #fff
  background-color #e91e63
  outline 0
  border .5em solid #e91e63
  box-shadow 0 0.5rem 2rem rgba(0,0,0,.3)
  background-image linear-gradient(to top,rgba(0,0,0,.1),rgba(255,255,255,.05))
  //border-radius $r4
  transition translateZ .1s linear

.button:focus
.button:hover
  box-shadow 0 0.5rem 2rem rgba(0,0,0,0.3);
  transform translate(0, -.1em)

.button:active
  box-shadow 0 0 0 #000
  transform translate(.1em, .4em)

.button:focus-visible // @see https://css-tricks.com/almanac/selectors/f/focus-visible/
  background-color Orange
  border-color Orange

.button-group
  display flex
  flex-wrap wrap
  margin-bottom 0 // @note Corrige la règle 'form > div'

.button-group > *
  margin-right 1em // @note Espacement entre deux boutons
